---
phase: 03-seo-implementation
plan: 02
type: execute
wave: 2
depends_on: ["01"]
files_modified:
  - src/lib/schema.ts
  - src/app/page.tsx
  - src/app/services/page.tsx
  - src/app/about/page.tsx
  - src/app/contact/page.tsx
autonomous: true

must_haves:
  truths:
    - "Homepage renders LocalBusiness and WebSite JSON-LD in page source"
    - "Services page renders FAQPage JSON-LD with all 6 FAQ items"
    - "About page renders Person JSON-LD for Julie Asfeld"
    - "All pages render BreadcrumbList JSON-LD"
    - "JSON-LD validates in Google Rich Results Test"
  artifacts:
    - path: "src/lib/schema.ts"
      provides: "JsonLd helper component with XSS sanitization"
      exports: ["JsonLd"]
      contains: "\\u003c"
    - path: "src/app/page.tsx"
      provides: "Homepage with LocalBusiness + WebSite + Breadcrumb schemas"
      contains: "LocalBusiness"
    - path: "src/app/services/page.tsx"
      provides: "Services page with FAQPage + Breadcrumb schemas"
      contains: "FAQPage"
    - path: "src/app/about/page.tsx"
      provides: "About page with Person + Breadcrumb schemas"
      contains: "Person"
  key_links:
    - from: "src/app/*/page.tsx"
      to: "src/lib/schema.ts"
      via: "JsonLd component import"
      pattern: "import.*JsonLd.*from.*schema"
---

<objective>
Implement JSON-LD structured data (schema markup) on all pages

Purpose: Schema markup helps search engines understand page content and enables rich results in search
Output: LocalBusiness + WebSite on homepage, FAQPage on services, Person on about, BreadcrumbList on all pages
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-seo-implementation/03-RESEARCH.md
@.planning/phases/03-seo-implementation/03-01-SUMMARY.md

# Page files to update (with metadata from Plan 01)
@src/app/page.tsx
@src/app/services/page.tsx
@src/app/about/page.tsx
@src/app/contact/page.tsx

# FAQ data for FAQPage schema
@src/components/services/FAQ.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create JsonLd helper component</name>
  <files>src/lib/schema.ts</files>
  <action>
Create a new file `src/lib/schema.ts` with a reusable JsonLd component.

```typescript
// src/lib/schema.ts

/**
 * JsonLd component for rendering structured data
 * Includes XSS sanitization by escaping < characters
 * See: https://nextjs.org/docs/app/guides/json-ld
 */
export function JsonLd<T extends Record<string, unknown>>({ data }: { data: T }) {
  return (
    <script
      type="application/ld+json"
      dangerouslySetInnerHTML={{
        __html: JSON.stringify(data).replace(/</g, '\\u003c'),
      }}
    />
  )
}
```

This component:
- Takes typed JSON-LD data as prop
- Escapes `<` to prevent XSS (see RESEARCH.md Pitfall 4)
- Renders as `<script type="application/ld+json">`
  </action>
  <verify>File exists at `src/lib/schema.ts` and exports JsonLd function.</verify>
  <done>JsonLd helper component created with XSS sanitization</done>
</task>

<task type="auto">
  <name>Task 2: Add homepage schemas (LocalBusiness, WebSite, Breadcrumb)</name>
  <files>src/app/page.tsx</files>
  <action>
Update `src/app/page.tsx` to include three JSON-LD schemas. The page already has metadata export from Plan 01.

Import the JsonLd component and add schema data:

```typescript
import { Hero, ServicesPreview, AboutPreview } from '@/components/home'
import { JsonLd } from '@/lib/schema'

// ... existing metadata export (from Plan 01) ...

const localBusinessSchema = {
  '@context': 'https://schema.org',
  '@type': 'LocalBusiness',
  name: 'MadMedia LLC',
  description: 'Professional social media management and website services for small businesses.',
  url: 'https://madmedia.social',
  telephone: '320-204-5840',
  email: 'madmedia56256@gmail.com',
  address: {
    '@type': 'PostalAddress',
    addressLocality: 'Madison',
    addressRegion: 'MN',
    postalCode: '56256',
    addressCountry: 'US',
  },
  founder: {
    '@type': 'Person',
    name: 'Julie Asfeld',
  },
  areaServed: {
    '@type': 'State',
    name: 'Minnesota',
  },
}

const websiteSchema = {
  '@context': 'https://schema.org',
  '@type': 'WebSite',
  name: 'MadMedia',
  url: 'https://madmedia.social',
}

const breadcrumbSchema = {
  '@context': 'https://schema.org',
  '@type': 'BreadcrumbList',
  itemListElement: [
    {
      '@type': 'ListItem',
      position: 1,
      item: {
        '@id': 'https://madmedia.social/',
        name: 'Home',
      },
    },
  ],
}

export default function Home() {
  return (
    <>
      <JsonLd data={localBusinessSchema} />
      <JsonLd data={websiteSchema} />
      <JsonLd data={breadcrumbSchema} />
      <Hero />
      <ServicesPreview />
      <AboutPreview />
    </>
  )
}
```

Note: Madison, MN is the business location from contact page. Phone/email from Footer and contact info.
  </action>
  <verify>Run `npm run build`. Check `out/index.html` contains three `<script type="application/ld+json">` tags with LocalBusiness, WebSite, and BreadcrumbList schemas.</verify>
  <done>Homepage has LocalBusiness, WebSite, and BreadcrumbList JSON-LD schemas</done>
</task>

<task type="auto">
  <name>Task 3: Add schema markup to remaining pages</name>
  <files>src/app/services/page.tsx, src/app/about/page.tsx, src/app/contact/page.tsx</files>
  <action>
Add JSON-LD schemas to the three remaining pages. Each page already has metadata export from Plan 01.

**Services page (src/app/services/page.tsx):**
Add FAQPage schema using the existing FAQ data from the component, plus BreadcrumbList:

```typescript
import { JsonLd } from '@/lib/schema'

const faqSchema = {
  '@context': 'https://schema.org',
  '@type': 'FAQPage',
  mainEntity: [
    {
      '@type': 'Question',
      name: 'How many social media platforms can you manage?',
      acceptedAnswer: {
        '@type': 'Answer',
        text: 'Depends on your package. Starter includes 1 platform, Standard includes 2, and Premium covers up to 3 platforms of your choice.',
      },
    },
    {
      '@type': 'Question',
      name: 'What kind of content do you create?',
      acceptedAnswer: {
        '@type': 'Answer',
        text: 'We create custom graphics, write engaging captions, develop hashtag strategies, and ensure everything aligns with your brand voice.',
      },
    },
    {
      '@type': 'Question',
      name: 'Do I need to provide content ideas?',
      acceptedAnswer: {
        '@type': 'Answer',
        text: "No, we handle the entire content strategy for you. However, we always welcome your input and ideas if you have them.",
      },
    },
    {
      '@type': 'Question',
      name: 'How long does website design take?',
      acceptedAnswer: {
        '@type': 'Answer',
        text: 'Typically 4-6 weeks from kickoff to launch, depending on the complexity and scope of the project.',
      },
    },
    {
      '@type': 'Question',
      name: 'Can you work with my existing website?',
      acceptedAnswer: {
        '@type': 'Answer',
        text: 'Yes, our maintenance services work with websites on any platform. We can also help migrate your site if needed.',
      },
    },
    {
      '@type': 'Question',
      name: 'What if I need both social media and website services?',
      acceptedAnswer: {
        '@type': 'Answer',
        text: 'We offer bundle pricing for clients who need both services. Contact us for a custom quote tailored to your needs.',
      },
    },
  ],
}

const breadcrumbSchema = {
  '@context': 'https://schema.org',
  '@type': 'BreadcrumbList',
  itemListElement: [
    { '@type': 'ListItem', position: 1, item: { '@id': 'https://madmedia.social/', name: 'Home' } },
    { '@type': 'ListItem', position: 2, item: { '@id': 'https://madmedia.social/services/', name: 'Services' } },
  ],
}
```

Add `<JsonLd data={faqSchema} />` and `<JsonLd data={breadcrumbSchema} />` at the top of the return statement.

**About page (src/app/about/page.tsx):**
Add Person schema plus BreadcrumbList:

```typescript
import { JsonLd } from '@/lib/schema'

const personSchema = {
  '@context': 'https://schema.org',
  '@type': 'Person',
  name: 'Julie Asfeld',
  jobTitle: 'Founder & Social Media Specialist',
  url: 'https://madmedia.social/about/',
  worksFor: {
    '@type': 'Organization',
    name: 'MadMedia LLC',
  },
  knowsAbout: ['Social Media Marketing', 'Website Design', 'Small Business Marketing'],
}

const breadcrumbSchema = {
  '@context': 'https://schema.org',
  '@type': 'BreadcrumbList',
  itemListElement: [
    { '@type': 'ListItem', position: 1, item: { '@id': 'https://madmedia.social/', name: 'Home' } },
    { '@type': 'ListItem', position: 2, item: { '@id': 'https://madmedia.social/about/', name: 'About' } },
  ],
}
```

Add `<JsonLd data={personSchema} />` and `<JsonLd data={breadcrumbSchema} />` at the top of the return.

**Contact page (src/app/contact/page.tsx):**
Add BreadcrumbList only (no special schema type for contact pages):

```typescript
import { JsonLd } from '@/lib/schema'

const breadcrumbSchema = {
  '@context': 'https://schema.org',
  '@type': 'BreadcrumbList',
  itemListElement: [
    { '@type': 'ListItem', position: 1, item: { '@id': 'https://madmedia.social/', name: 'Home' } },
    { '@type': 'ListItem', position: 2, item: { '@id': 'https://madmedia.social/contact/', name: 'Contact' } },
  ],
}
```

Add `<JsonLd data={breadcrumbSchema} />` at the top of the return.
  </action>
  <verify>Run `npm run build`. Check:
- `out/services/index.html` has FAQPage and BreadcrumbList schemas
- `out/about/index.html` has Person and BreadcrumbList schemas
- `out/contact/index.html` has BreadcrumbList schema</verify>
  <done>All pages have appropriate JSON-LD schema markup with BreadcrumbList on every page</done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `npm run build` succeeds without errors
2. View source of `out/index.html` - contains LocalBusiness, WebSite, and BreadcrumbList `<script type="application/ld+json">` tags
3. View source of `out/services/index.html` - contains FAQPage with all 6 questions and BreadcrumbList
4. View source of `out/about/index.html` - contains Person (Julie Asfeld) and BreadcrumbList
5. View source of `out/contact/index.html` - contains BreadcrumbList
6. Optional: Paste any page URL into Google Rich Results Test (https://search.google.com/test/rich-results) to validate schema syntax
</verification>

<success_criteria>
- JsonLd helper component exists with XSS sanitization
- Homepage has LocalBusiness + WebSite + BreadcrumbList schemas
- Services page has FAQPage (6 items) + BreadcrumbList schemas
- About page has Person + BreadcrumbList schemas
- Contact page has BreadcrumbList schema
- All JSON-LD properly escapes `<` characters
- Build completes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/03-seo-implementation/03-02-SUMMARY.md`
</output>
